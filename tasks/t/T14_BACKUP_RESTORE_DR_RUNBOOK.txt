# tasks/T/T14_BACKUP_RESTORE_DR_RUNBOOK.txt
Version: v0.1
Datum: 2026-01-06
Priority: MUST
Owner-Intent: DR muss ohne Raten funktionieren: scratch -> restore -> verify.

## 1) Zweck
Backup/Restore/DR Runbook:
- DB backup/restore
- spool backup/restore/replay
- config backup
- restore drill procedure

## 2) Scope / Nicht-Ziele
- Kein automatisches deployment tool; nur runbook + policy.
- Keine CA/MITM keys falls nicht im v2 Scope (später optional).

## 3) Inputs (Truth Sources)
- blocks/B050_SQL_AAA_RADIUS.txt (spool/usage)
- blocks/B167_WIRING_HOOKS_SYSTEMD.txt (service restart dependencies)
- 03_ASSUMPTIONS_AND_RULES.txt (source of truth rules)

## 4) Outputs (Deliverables)
- `docs/dr_runbook.md`
  - step-by-step restore
  - validation checklist
- `docs/backup_policy.md`
  - frequency, retention, verification
- `tests/restore_drill.md` (restore exercise)

## 5) Dependencies
- T01/T02 for DB definition
- T05 for spool policy (limits, format)

## 6) Risiken / Randfälle
- Restore without matching schema version
- Spool corruption
- Missing secrets/config leads to partial restore

## 7) Tests / Acceptance Criteria (messbar)
MUST:
- Restore drill on fresh VM -> system provides VPN connectivity + DNS + panel (as scoped).
- Backups verifiable (checksums, test restore).
- No missing critical configs.

## 8) Offene Punkte / Entscheidungen
- Backup retention length (depends on D002 budgets).
- What is “minimum viable restore” if some modules are disabled?

## 9) Changelog
- v0.1 (2026-01-06): Task-Datei angelegt.